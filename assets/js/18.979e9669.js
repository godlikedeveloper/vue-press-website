(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{241:function(e,t,r){"use strict";r.r(t);var a=r(2),n=Object(a.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h3",{attrs:{id:"从一个jquery插件说说垃圾回收"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#从一个jquery插件说说垃圾回收","aria-hidden":"true"}},[e._v("#")]),e._v(" 从一个jQuery插件说说垃圾回收")]),e._v(" "),r("h4",{attrs:{id:"condition"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#condition","aria-hidden":"true"}},[e._v("#")]),e._v(" Condition")]),e._v(" "),r("p",[e._v("最近维护一个老项目，发现有一个省市区"),r("code",[e._v("picker")]),e._v(",在回显动态值的时候，有条件约束，不能直接赋值上去。\n于是我的一个技术经理，给出了一个思路，先销毁，再赋值，"),r("code",[e._v("jquery")]),e._v("插件重新初始化，可能这个插件件就可以自动加上约束（事实证明还是不行）\n但是插件没有提供销毁方法，与其探讨之后，决定先实例化之后挂载在"),r("code",[e._v("window")]),e._v("上（因为不在同一个立即函数里），再在重新初始化的"),r("code",[e._v("handler")]),e._v("里 将其设为"),r("code",[e._v("null")]),e._v(",这样不就释放了吗")]),e._v(" "),r("h4",{attrs:{id:"why"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#why","aria-hidden":"true"}},[e._v("#")]),e._v(" Why")]),e._v(" "),r("p",[e._v("因为绑定的事件没有解绑\n导致新初始化的组件被调用两次")]),e._v(" "),r("h4",{attrs:{id:"how"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#how","aria-hidden":"true"}},[e._v("#")]),e._v(" How")]),e._v(" "),r("p",[e._v("一种办法 "),r("code",[e._v("jquery")]),e._v("插件是肯定引用了dom的jquery对象 相当于一个闭包 释放掉"),r("code",[e._v("dom")]),e._v(" 事件就会解绑\n另一种办法 用"),r("code",[e._v("unbind")]),e._v("来进行解绑")])])},[],!1,null,null,null);t.default=n.exports}}]);